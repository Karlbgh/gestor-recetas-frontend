@if (receta) {
  <article class="bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transition-shadow duration-300 ease-in-out flex flex-col h-full border border-gray-200">
    <div class="relative">
      <a (click)="onVerDetalle()" class="cursor-pointer block">
        <img
          [ngSrc]="imagenAMostrar"
          alt="Foto de {{ receta.nombre }}"
          width="400"
          height="250"
          priority="false"
          class="w-full h-52 object-cover transition-transform duration-300 hover:scale-105" />
      </a>
      <!-- <button
        (click)="onToggleFavorito($event)"
        [attr.aria-label]="receta.esFavorito ? 'Quitar de favoritos' : 'Añadir a favoritos'"
        [attr.aria-pressed]="receta.esFavorito"
        class="absolute top-3 right-3 p-2.5 rounded-full transition-all duration-200 ease-in-out group focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"
        [ngClass]="{
          'bg-red-500 hover:bg-red-600 text-white': receta.esFavorito,
          'bg-gray-700 bg-opacity-50 hover:bg-opacity-75 text-white hover:text-red-400': !receta.esFavorito
        }">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-5 h-5 transition-transform duration-200 ease-in-out"
          [class.fill-current]="receta.esFavorito"
          [class.fill-transparent]="!receta.esFavorito"
          [class.stroke-current]="!receta.esFavorito"
          stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z" />
        </svg>
      </button> -->
    </div>

    <div class="p-5 flex flex-col flex-grow">
      <h3 class="text-lg md:text-xl font-bold text-gray-800 mb-2">
        <a (click)="onVerDetalle()" class="hover:text-sky-600 transition-colors cursor-pointer line-clamp-2" [title]="receta.nombre">
          {{ receta.nombre }}
        </a>
      </h3>

      <p class="text-gray-600 text-sm mb-4 flex-grow min-h-[40px] line-clamp-3">
        {{ receta.descripcion }}
      </p>

      <div class="mt-auto space-y-3">
        <div class="flex items-center justify-between text-xs text-gray-500">
          <span class="flex items-center" title="Tiempo de preparación">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4 mr-1.5 text-gray-400">
              <path fill-rule="evenodd" d="M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm-.75-13a.75.75 0 0 0-1.5 0v5c0 .414.336.75.75.75h4a.75.75 0 0 0 0-1.5h-3.25V5Z" clip-rule="evenodd" />
            </svg>
              30min<!-- {{ receta.tiempoPreparacion }} -->
          </span>
          @if (receta.creatorId) { <!-- @if (receta.creador && receta.creador.nombre) { -->
            <!-- <span class="truncate flex items-center" [title]="'Creado por: ' + receta.creador.nombre"> -->
            <span class="truncate flex items-center" [title]="'Creado por: ' + receta.creatorId">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4 mr-1.5 text-gray-400">
                <path d="M10 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM3.465 14.493a1.23 1.23 0 0 0 .41 1.412A9.957 9.957 0 0 0 10 18c2.31 0 4.438-.784 6.131-2.1.43-.333.604-.903.408-1.41a7.002 7.002 0 0 0-13.074.003Z" />
              </svg>
                {{ receta.creatorId }}<!-- {{ receta.creador.nombre }} -->
            </span>
          }
        </div>

        <!-- <div class="flex items-center text-sm mb-1">
          @if (receta.puntuacionMedia !== undefined && receta.puntuacionMedia !== null) {
            <span class="text-yellow-500">{{ getPuntuacionEstrellas(receta.puntuacionMedia) }}</span>
            <span class="ml-1.5 text-gray-600">({{ receta.puntuacionMedia.toFixed(1) }})</span>
          } @else {
            <span class="text-gray-500 text-xs">{{ getPuntuacionEstrellas() }}</span>
          }
        </div> -->

        <button
          (click)="onVerDetalle()"
          type="button"
          class="w-full mt-2 bg-sky-500 hover:bg-sky-600 text-white font-semibold py-2.5 px-4 rounded-lg transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-sky-400 focus:ring-opacity-75">
          Ver Receta
        </button>
      </div>
    </div>
  </article>
}
